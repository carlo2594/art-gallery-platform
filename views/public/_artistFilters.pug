// Filtros de artistas reutilizables para grid y búsqueda
form#artistChips(method='GET' action=actionUrl class='d-flex flex-wrap gap-2')
  // Elimina el input hidden de sort; los chips envían el parámetro
  input(type='hidden' name='tab' value='artistas')
  // Mantener el término de búsqueda si existe
  if typeof search !== 'undefined' && search
    input(type='hidden' name='q' value=search)
  else if q && q.q
    input(type='hidden' name='q' value=q.q)
  // Chips de orden
  // Solo mostrar el chip opuesto al sort actual
  if q && q.sort === 'name_asc'
    button.chip.btn(
      type='submit'
      name='sort'
      value='name_desc'
      aria-label='Nombre Z-A'
    )
      i.fa.fa-arrow-down-z-a.me-1(title='Z-A')
      | Nombre Z-A
  else if q && q.sort === 'name_desc'
    button.chip.btn(
      type='submit'
      name='sort'
      value='name_asc'
      aria-label='Nombre A-Z'
    )
      i.fa.fa-arrow-down-a-z.me-1(title='A-Z')
      | Nombre A-Z
  else
    button.chip.btn(
      type='submit'
      name='sort'
      value='name_asc'
      aria-label='Nombre A-Z'
    )
      i.fa.fa-arrow-down-a-z.me-1(title='A-Z')
      | Nombre A-Z
    button.chip.btn(
      type='submit'
      name='sort'
      value='name_desc'
      aria-label='Nombre Z-A'
    )
      i.fa.fa-arrow-down-z-a.me-1(title='Z-A')
      | Nombre Z-A
  // Chips para fecha
  button.chip.btn(
    type='submit'
    name='sort'
    value='recent'
    class=(q && q.sort === 'recent' ? 'active' : '')
    aria-label='Nuevos primero'
  ) Recientes
  button.chip.btn(
    type='submit'
    name='sort'
    value='oldest'
    class=(q && q.sort === 'oldest' ? 'active' : '')
    aria-label='Antiguos primero'
  ) Antiguos primero
  // No mostrar botones Limpiar/Ver resultados aquí (solo en offcanvas)

// Offcanvas con filtros avanzados (solo búsqueda por nombre)
button.btn.btn-outline-secondary.ms-auto(data-bs-toggle='offcanvas' data-bs-target='#artistFiltersDrawer' aria-controls='artistFiltersDrawer')
  i.fa-solid.fa-filter.me-1
  | Filtros

div.offcanvas.offcanvas-end#artistFiltersDrawer(tabindex='-1' aria-labelledby='artistFiltersTitle')
  .offcanvas-header
    h5#artistFiltersTitle Filtros de artistas
    button.btn-close(type='button' data-bs-dismiss='offcanvas' aria-label='Cerrar')
  form.offcanvas-body.d-flex.flex-column.gap-4(method='GET' action=actionUrl)
    input(type='hidden' name='tab' value='artistas')
    // Mantener el término de búsqueda si existe
    if typeof search !== 'undefined' && search
      input(type='hidden' name='q' value=search)
    else if q && q.q
      input(type='hidden' name='q' value=q.q)
    // Filtro por nombre
    .filter-block
      label.form-label.mb-2 Nombre
      input.form-control(type='text' name='name' placeholder='Buscar por nombre' value=(q && q.name ? q.name : ''))
    .mt-auto.d-flex.gap-2.sticky-apply
      a.btn.btn-light.flex-fill(href=actionUrl) Limpiar
      button.btn.btn-apply.flex-fill(type='submit') Ver resultados
