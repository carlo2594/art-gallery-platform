// Modal: Agregar obra (artista)
.modal.fade#artistAddArtworkModal(tabindex='-1' aria-labelledby='artistAddArtworkModalLabel' aria-hidden='true')
  .modal-dialog.modal-lg
    .modal-content
      .modal-header
        h5.modal-title#artistAddArtworkModalLabel Agregar obra
        button.btn-close(type='button' data-bs-dismiss='modal' aria-label='Cerrar')
      .modal-body
        form#artistCreateArtworkForm(enctype='multipart/form-data')
          .row.g-3
            .col-md-8
              label.form-label Título
              input.form-control(type='text', name='title', placeholder='Título de la obra', required)
            .col-md-4
              label.form-label Precio (USD)
              input.form-control(type='number', name='amount', min='0', step='0.01', placeholder='0.00', required)
          .mb-3
            label.form-label Descripción
            textarea.form-control(name='description' rows='3' placeholder='Descripción (opcional)')
          .row.g-3
            .col-md-4
              label.form-label Tipo
              input.form-control(type='text', name='type', placeholder='Pintura, Escultura, etc.')
            .col-md-4
              label.form-label Técnica
              input.form-control(type='text', name='technique', placeholder='Óleo, Acrílico, etc.')
            .col-md-2
              label.form-label Ancho (cm)
              input.form-control(type='number', name='width_cm', min='1', step='1', required)
            .col-md-2
              label.form-label Alto (cm)
              input.form-control(type='number', name='height_cm', min='1', step='1', required)
          .row.g-3
            .col-md-4
              label.form-label Fecha de la obra
              input.form-control(type='date', name='completedAt')
          .mb-2
            label.form-label Imagen de la obra
            .d-flex.align-items-center.gap-3
              img.artist-artworks-image-preview.img-thumbnail(src='' alt='Preview' style='width:64px;height:64px;object-fit:cover;' hidden)
              //- required se maneja por JS: exigimos imagen solo si enviará a aprobación y no hay previa en DB
              input.form-control(type='file', name='image', accept='image/*')
            small.text-muted Sube una imagen de buena calidad.
          //- Flag que marcamos desde JS cuando es guardado como borrador
          input(type='hidden', name='_draftOnly', value='0')
      .modal-footer
        button.btn.btn-secondary(type='button' data-bs-dismiss='modal') Cancelar
        //- Guardar borrador: omite validación HTML5 con formnovalidate
        button.btn.btn-outline-secondary(type='submit' form='artistCreateArtworkForm' formnovalidate data-mode='draft') Guardar borrador
        //- Solicitar aprobación: valida campos (requiere imagen si no hay previa)
        button.btn.btn-primary(type='submit' form='artistCreateArtworkForm' data-mode='send') Solicitar aprobación
