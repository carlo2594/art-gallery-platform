extends /layouts/public

block content
  .container.reset-password-container
    .row.justify-content-center
      .col-md-6.col-lg-5
        .d-flex.align-items-center.py-4.reset-password-bg(style="min-height:100vh;")
          main.form-signin.w-100.m-auto.font-title
            form.reset-password-form(method="POST", action="/api/v1/auth/password/reset")
              a.navbar-brand.d-flex.align-items-center.navbar-logo-link.mb-4(href="/")
                img.logo-navbar(src="/Logos/GOX_LOGO_06.png" alt="Galería del Ox")
                h1.ms-1.text-uppercase.fw-bold.navbar-title Galería del Ox
              h1.h3.mb-3.fw-normal.reset-password-title.mb-3 
                if isNewPassword
                  | Crear contraseña
                else
                  | Restablecer contraseña

              if error
                .alert.alert-danger.reset-password-error.mb-3= error
                .mb-3.text-center.text-danger
                  | El enlace no es válido o ya venció. Solicita uno nuevo.
              if success
                .alert.alert-success.reset-password-success.mb-3= success

              input(type="hidden", name="uid", value=uid)
              input(type="hidden", name="token", value=token)

              .form-floating.mb-3.reset-password-field
                input.form-control.reset-password-input.mb-3(type="password", id="newPassword", name="newPassword", placeholder=isNewPassword ? "Contraseña" : "Nueva contraseña", required, autocomplete="new-password")
                label(for="newPassword")= isNewPassword ? "Contraseña" : "Nueva contraseña"

              .form-floating.mb-3.reset-password-field
                input.form-control.reset-password-input.mb-3(type="password", id="confirmPassword", name="confirmPassword", placeholder="Confirmar contraseña", required, autocomplete="new-password")
                label(for="confirmPassword") Confirmar contraseña

                .form-check.text-start.my-3.login-signin-remember
                  input.form-check-input.login-signin-checkbox(type="checkbox", value="remember-me", id="checkDefault", name="remember")
                  label.form-check-label.login-signin-checkbox-label(for="checkDefault") Recuérdame

              button.btn.btn-primary.w-100.py-2.mt-3.mb-3.reset-password-btn(type="submit") 
                = isNewPassword ? "Crear contraseña" : "Cambiar contraseña"

              .d-flex.justify-content-center.mb-3
                a.btn.btn-outline-primary.ox-back-btn.reset-password-home-link(href="/")
                  i.fas.fa-arrow-left.me-2
                  | Volver

              p.mt-5.mb-3.text-body-secondary.reset-password-copyright © 2025 Galería del Ox
  // Validación movida a /js/main.js
