//- Grid de obras (reutilizable)
ul.grid.effect-2.artwork-grid#grid
  each a in artworks
    - const _sizes = '(max-width: 768px) 90vw, (max-width: 1200px) 45vw, 33vw'
    - const hasMedia = a && a._media && a._media.src
    - const _url = a.imageUrl || ''
    - const isCld = _url.includes('res.cloudinary.com') && _url.includes('/upload/')
    - const src480 = isCld ? _url.replace('/upload/', '/upload/f_auto,q_auto,dpr_auto,w_480/') : _url
    - const src768 = isCld ? _url.replace('/upload/', '/upload/f_auto,q_auto,dpr_auto,w_768/') : _url
    - const src1200 = isCld ? _url.replace('/upload/', '/upload/f_auto,q_auto,dpr_auto,w_1200/') : _url
    - const srcsetFallback = isCld ? `${src480} 480w, ${src768} 768w, ${src1200} 1200w` : undefined
    li
      a(href=`/artworks/${a.slug || a._id}`)
        if hasMedia
          img.artwork-grid__image(
            src=a._media.src,
            srcset=a._media.srcset,
            sizes=a._media.sizes || _sizes,
            alt=a.title,
            loading='lazy',
            decoding='async',
            width=a._media.width || a.imageWidth_px,
            height=a._media.height || a.imageHeight_px
          )
        else
          img.artwork-grid__image(
            src=src480,
            srcset=srcsetFallback,
            sizes=_sizes,
            alt=a.title,
            loading='lazy',
            decoding='async',
            width=a.imageWidth_px,
            height=a.imageHeight_px
          )
        .artwork-grid__body
          .artwork-grid__content
            .artwork-grid__info
              if a.title
                h3.artwork-grid__title= a.title
              if a.artist && a.artist.name
                .artwork-grid__artist= a.artist.name
              .artwork-grid__details
                if a.technique
                  .artwork-grid__detail-item= a.technique
                if a.width_cm && a.height_cm
                  .artwork-grid__detail-item #{a.width_cm} x #{a.height_cm} cm
            .artwork-grid__stats
              if a.price_cents && a.price_cents > 0
                .artwork-grid__price
                  | $#{(a.price_cents / 100).toLocaleString('en-US')} USD
