// views/public/_artworkGrid.pug
// Requiere: var artworks (array de obras)
ul.grid.effect-2#grid
  each a in artworks
    li
      .card.h-100.bg-white.border-0.shadow-none.art-card-shadow
        a(href=`/artworks/${a.slug || a._id}`)
          img.card-img-top.art-card-shadow(src=a.imageUrl, alt=a.title)
        .card-body.p-3.art-label.art-card-shadow
          if a.artist
            .fw-bold.mb-1= a.artist.name
          if a.title
            .mb-1= a.title
          if a.material
            - var matCap = a.material.charAt(0).toUpperCase() + a.material.slice(1)
            .mb-1= matCap
          if a.size
            .mb-1= a.size
          if typeof a.price_cents === 'number'
            .mb-1
              | $
              = (a.price_cents/100).toLocaleString('en-US', {minimumFractionDigits:0})
          // Website and Instagram (if available)
          .d-flex.justify-content-between.align-items-center.mb-1
            if a.website
              span.small= a.website
            if a.instagram
              span.small= '@' + a.instagram.replace(/^@/, '')
          // Extra info: views, date, comments, ratings
          .d-flex.flex-wrap.gap-2.small.text-muted
            if typeof a.views === 'number'
              span Vistas: #{a.views}
            if a.createdAt
              span Fecha: #{new Date(a.createdAt).toLocaleDateString('es-MX', { year: 'numeric', month: 'short', day: 'numeric' })}
            if typeof a.commentsCount === 'number'
              span Comentarios: #{a.commentsCount}
