extends /layouts/public

//- Estilos específicos de la Home (migrados a /css/style.css)
block headExtra

block content
  section.hero.home-hero
    .container.hero-container
      .row.p-4.pb-0.pe-lg-0.pt-lg-5.align-items-center.hero-row
        .col-lg-7.p-3.p-lg-5.pt-lg-3.hero-content.hero-text.hero-col-text
          p.lead.hero-description.hero-description-text
            | Galería del Ox nace de un proyecto familiar y se convierte en un espacio vivo de inspiración, expresión y conexión.
            br
            br
            | Desde obras originales hasta experiencias sensoriales, cada rincón de la galería está pensado para celebrar la diversidad creativa.
          a.btn.btn-primary.btn-lg.px-4.me-md-2.fw-bold.text-uppercase.hero-cta-btn.mt-3(href="/artworks") Ver el arte
        .col-lg-5.d-flex.justify-content-end.align-items-center.hero-image-container.hero-col-image
          img.hero-image.collectors-hero-image.hero-img-main(
            src="/img/Ox-hero-image-landing.jpg",
            alt="Galería del Ox",
            loading="eager",
            fetchpriority="high",
            decoding="async"
          )

  
  //- Exposiciones recientes (3) usando estilo Bootstrap featurette
  section.my-5.home-exhibitions
    .container.marketing
      h2.section-heading.display-5.text-center.mb-4 Exposiciones Imperdibles
      if latestExhibitions && latestExhibitions.length
        each expo, idx in latestExhibitions
          .row.featurette.mb-5.align-items-center
            - const isEven = idx % 2 === 1
            .col-md-7(class=isEven ? 'order-md-2 d-flex flex-column justify-content-center text-center' : 'd-flex flex-column justify-content-center text-center')
              h2.featurette-heading.fw-bold= expo.title
              if expo.description
                p.lead= expo.description
              if expo.location
                - const locText = (expo.location && expo.location.type === 'virtual') ? 'Virtual' : (expo.location && expo.location.address ? expo.location.address : '')
                if locText
                  p.small.text-muted Ubicación: #{locText}
              - const sD = expo.startDate ? new Date(expo.startDate) : null
              - const eD = expo.endDate ? new Date(expo.endDate) : null
              - const dateText = (sD && eD) ? `Del ${sD.toLocaleDateString('es-ES')} al ${eD.toLocaleDateString('es-ES')}` : (sD ? `Desde ${sD.toLocaleDateString('es-ES')}` : (eD ? `Hasta ${eD.toLocaleDateString('es-ES')}` : ''))
              if dateText
                p.small.text-muted= dateText
              //- BotÃ³n de "Ver detalles" eliminado a solicitud
            .col-md-5(class=isEven ? 'order-md-1 d-flex justify-content-center align-items-center' : 'd-flex justify-content-center align-items-center')
              a(href=`/exhibitions/${expo.slug || expo._id}`, aria-label=expo.title)
                if expo.coverImage
                  img.featurette-image.img-fluid.mx-auto.home-expo-img(src=expo.coverImage, alt=expo.title, loading='lazy', decoding='async')
                else
                  svg.bd-placeholder-img.bd-placeholder-img-lg.featurette-image.img-fluid.mx-auto(width='500', height='500', xmlns='http://www.w3.org/2000/svg', role='img', aria-label='Placeholder', preserveAspectRatio='xMidYMid slice')
                    title Placeholder
                    rect(width='100%', height='100%', fill='var(--bs-secondary-bg)')
                    text(x='50%', y='50%', fill='var(--bs-secondary-color)', dy='.3em') 500x500
        
      else
        p.text-center.text-muted No hay exposiciones publicadas por ahora.

  //- CTA coleccionistas
  section.join-artists.position-relative
    img.join-artists-bg.img-fluid.rounded-4(src="/img/join-artists-bg.jpg", alt="Unete como coleccionista")
    .join-artists-card.card.position-absolute.top-50.start-50.translate-middle.shadow-lg.w-75.w-md-50.w-lg-40
      .card-body.text-center.px-2.px-md-4.py-1.py-md-3.d-flex.flex-column.justify-content-center.align-items-center
        i.fas.fa-gem.text-primary.mb-1.mb-md-3.collectors-icon
        h1.card-title.fw-bold.mb-1.mb-md-3.collectors-title &iquest;Eres coleccionista?
        p.card-text.mb-1.mb-md-3.collectors-description &Uacute;nete a nuestra comunidad exclusiva de coleccionistas.
        .feature-list.mb-1.mb-md-3
          .d-flex.align-items-center.justify-content-center.mb-1
            i.fas.fa-check.text-success.me-1.me-md-3.collectors-check-icon
            span.fw-medium.collectors-check-text Acceso anticipado a obras
          .d-flex.align-items-center.justify-content-center.mb-1
            i.fas.fa-check.text-success.me-1.me-md-3.collectors-check-icon
            span.fw-medium.collectors-check-text Asesor&iacute;a personalizada
          .d-flex.align-items-center.justify-content-center.mb-1
            i.fas.fa-check.text-success.me-1.me-md-3.collectors-check-icon
            span.fw-medium.collectors-check-text Certificados de autenticidad
        a.btn.btn-primary.rounded-pill.fw-bold.d-flex.align-items-center.justify-content-center.text-center.collectors-cta-btn(href="/signup") 
          span Crear cuenta gratuita

block scriptsExtra
  //- Efectos de texto para exposiciones de la Home
  script(src="/js/home-effects.js")
